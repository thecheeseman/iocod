//
//
//
//
//
struct cvar_table {
	struct vmcvar *vm_cvar;
	char *cvar_name;
	char *default_string;
	int cvar_flags;
	int modification_count;
	bool track_change;
};

static struct cvar_table game_cvar_table[] = {
	//
	// cheats
	//
	{
		&g_cheats,
		"sv_cheats",
		"",
		0, 
		0, 
		false
	},

	//
	// blank vars
	//
	{
		NULL,
		"gamename",
		BASEGAME,
		CVAR_SERVERINFO | CVAR_ROM, 
		0, 
		false
	},
	{
		NULL,
		"gamedate",
		__DATE__,
		CVAR_ROM, 
		0, 
		false
	},
	{
		NULL,
		"sv_mapname",
		"",
		CVAR_SERVERINFO | CVAR_ROM, 
		0, 
		false
	},

	//
	// latched vars
	//
	{ 
		&g_gametype, 
		"g_gametype", 
		"dm",
		CVAR_SERVERINFO | CVAR_LATCH, 
		0, 
		false 
	},
	{ 
		&g_max_clients, 
		"sv_maxclients", 
		"20",
		CVAR_SERVERINFO | CVAR_LATCH | CVAR_ARCHIVE, 
		0, 
		false 
	},

	//
	//
	//
	{ 
		&g_synchronous_clients, 
		"g_synchronousClients", 
		"0",
		CVAR_SYSTEMINFO, 
		0, 
		false 
	},
	{ 
		&g_intermission_delay, 
		"g_intermissionDelay", 
		"1000", 
		0, 
		0, 
		false 
	},

	//
	// logs
	//
	{ 
		&g_log, 
		"g_log", 
		"games_mp.log", 
		CVAR_ARCHIVE, 
		0, 
		false 
	},
	{ 
		&g_log_sync,
		"g_logSync", 
		"0", 
		CVAR_ARCHIVE, 
		0, 
		false 
	},

	//
	// general server
	//
	{ 
		&g_password, 
		"g_password", 
		"", 
		0, 
		0, 
		false 
	},
	{
		&g_ban_ips, 
		"g_banIPs", 
		"", 
		CVAR_ARCHIVE, 
		0, 
		false 
	},
	{ 
		&g_dedicated, 
		"dedicated", 
		"0", 
		0, 
		0, 
		false 
	},

	// 
	// physics
	//
	{ 
		&g_speed, 
		"g_speed", 
		"190", 
		0, 
		0, 
		true 
	},
	{ 
		&g_gravity, 
		"g_gravity", 
		"800", 
		0, 
		0, 
		true 
	},
	{ 
		&g_knockback, 
		"g_knockback", 
		"1000", 
		0, 
		0, 
		true 
	},

	//
	// weapons
	//
	{ 
		&g_weapon_respawn, 
		"g_weaponrespawn", 
		"5", 
		0, 
		0, 
		true 
	},
	{ 
		&g_weapon_ammo_pools, 
		"g_weaponAmmoPools", 
		"0", 
		0, 
		0, 
		true 
	},

	#ifdef CODVERSION1_5
	{
		&g_max_dropped_weapons,
		"g_maxDroppedWeapons",
		"1",
		0,
		0,
		false
	}
	#endif

	//
	// inactivity
	//
	{ 
		&g_inactivity, 
		"g_inactivity", 
		"0", 
		0, 
		0, 
		true 
	},

	//
	// debug
	//
	{ 
		&g_debug_move, 
		"g_debugMove", 
		"0", 
		0, 
		0, 
		false 
	},
	{
		&g_debug_prone_check, 
		"g_debugProneCheck", 
		"0", 
		0, 
		0, 
		false 
	},
	{ 
		&g_debug_prone_check_depth_check, 
		"g_debugProneCheckDepthCheck", 
		"1",
		0, 
		0, 
		false 
	},
	{ 
		&g_debug_damage, 
		"g_debugDamage", 
		"0", 
		CVAR_CHEAT, 
		0, 
		false 
	},
	{ 
		&g_debug_alloc, 
		"g_debugAlloc", 
		"0", 
		0, 
		0, 
		false 
	},
	{ 
		&g_debug_bullets, 
		"g_debugBullets", 
		"0", 
		CVAR_CHEAT, 
		0, 
		false 
	},

	//
	// general game stuff
	//
	{ 
		&g_motd, 
		"g_motd", 
		"", 
		CVAR_ARCHIVE, 
		0, 
		false 
	},
	{ 
		&g_allow_vote, 
		"g_allowVote", 
		"1", 
		0, 
		0, 
		false 
	},

	#ifdef CODVERSION1_5
	{
		&g_allow_vote_map_restart,
		"g_allowVoteMapRestart",
		"1",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_map_rotate,
		"g_allowVoteMapRotate",
		"1",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_type_map,
		"g_allowVoteTypeMap",
		"1",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_map,
		"g_allowVoteMap",
		"1",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_gametype,
		"g_allowVoteGametype",
		"1",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_kick,
		"g_allowVoteKick",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_client_kick,
		"g_allowVoteClientKick",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_temp_ban_user,
		"g_allowVoteTempBanUser",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_temp_ban_client,
		"g_allowVoteTempBanClient",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_draw_friend,
		"g_allowVoteDrawFriend",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_killcam,
		"g_allowVoteKillcam",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_allow_vote_friendly_fire,
		"g_allowVoteFriendlyFire",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	#endif
	{ 
		&g_list_entity, 
		"g_listEntity", 
		"0", 
		0, 
		0, 
		false 
	},
	#ifdef CODVERSION1_5
	{
		&ui_allow_vote,
		"ui_allowVote",
		"1",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_map_restart,
		"ui_allowVoteMapRestart",
		"1",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_map_rotate,
		"ui_allowVoteMapRotate",
		"1",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_type_map,
		"ui_allowVoteTypeMap",
		"1",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_map,
		"ui_allowVoteMap",
		"1",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_gametype,
		"ui_allowVoteGametype",
		"1",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_kick,
		"ui_allowVoteKick",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_client_kick,
		"ui_allowVoteClientKick",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_temp_ban_user,
		"ui_allowVoteTempBanUser",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_temp_ban_client,
		"ui_allowVoteTempBanClient",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_draw_friend,
		"ui_allowVoteDrawFriend",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_killcam,
		"ui_allowVoteKillcam",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_allow_vote_friendly_fire,
		"ui_allowVoteFriendlyFire",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&scr_draw_friend,
		"scr_drawfriend",
		"0",
		CVAR_ROM | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&scr_friendly_fire,
		"scr_friendlyfire",
		"0",
		CVAR_ROM | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&scr_killcam,
		"scr_killcam",
		"0",
		CVAR_ROM | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&ui_draw_friend,
		"ui_drawfriend",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_friendly_fire,
		"ui_friendlyfire",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	{
		&ui_killcam,
		"ui_killcam",
		"0",
		CVAR_SYSTEMINFO,
		0,
		false
	},
	#endif
	{
		&g_complaint_limit, 
		"g_complaintlimit", 
		"3", 
		CVAR_ARCHIVE, 
		0, 
		true 
	},
	{ 
		&g_voice_chats_allowed, 
		"g_voiceChatsAllowed", 
		"4",
		CVAR_ARCHIVE,
		0, 
		false 
	},
	#ifdef CODVERSION1_5
	{
		&g_dead_chat,
		"g_deadChat",
		"0",
		CVAR_ARCHIVE,
		0,
		false
	},
	#endif

	//
	// developer mode
	//
	{ 
		&g_developer, 
		"developer", 
		"0", 
		CVAR_TEMP, 
		0, 
		false 
	},

	//
	// score banners
	//
	{ 
		&g_scores_banner_allies,
		"g_scoresBanner_Allies",
		"gfx/hud/hud@mpflag_american.tga",
		CVAR_WOLFINFO, 
		0, 
		false 
	},
	{ 
		&g_scores_banner_axis,
		"g_scoresBanner_Axis",
		"gfx/hud/hud@mpflag_german.tga",
		CVAR_WOLFINFO, 
		0, 
		false 
	},
	{ 
		&g_scores_banner_none,
		"g_scoresBanner_None",
		"gfx/hud/hud@mpflag_none.tga",
		CVAR_WOLFINFO, 
		0, 
		false 
	},
	{ 
		&g_scores_banner_spectators,
		"g_scoresBanner_Spectators",
		"gfx/hud/hud@mpflag_spectator.tga",
		CVAR_WOLFINFO, 
		0, 
		false 
	},

	//
	// team names and colors
	//
	{ 
		&g_team_name_allies,
		"g_teamName_Allies",
		"GAME_ALLIES",
		CVAR_WOLFINFO, 
		0, 
		false 
	},
	{ 
		&g_team_name_axis,
		"g_teamName_Axis",
		"GAME_AXIS",
		CVAR_WOLFINFO,
		0, 
		false },
	{ 
		&g_team_color_allies,
		"g_teamColor_Allies",
		"0.5 0.5 1",
		CVAR_WOLFINFO, 
		0, 
		false },
	{ 
		&g_team_color_axis,
		"g_teamColor_Axis",
		"1 0.5 0.5",
		CVAR_WOLFINFO, 
		0, 
		false },

	// 
	// pmove
	//
	{ 
		&g_smoothclients, 
		"g_smoothClients", 
		"1", 
		0, 
		0, 
		false 
	},
	{ 
		&pmove_fixed, 
		"pmove_fixed", 
		"0", 
		CVAR_SYSTEMINFO, 
		0, 
		false 
	},
	{
		&pmove_msec, 
		"pmove_msec", 
		"8", 
		CVAR_SYSTEMINFO, 
		0, 
		false 
	},

	//
	// main menu
	//
	{ 
		&g_script_main_menu, 
		"g_scriptMainMenu", 
		"", 
		0, 
		0, 
		false 
	},

	//
	// bgame stuff
	//
	{
		&bg_view_height_standing,
		"bg_viewheight_standing",
		"60",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_view_height_crouched,
		"bg_viewheight_crouched",
		"40",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_view_height_prone,
		"bg_viewheight_prone",
		"11",
		CVAR_WOLFINFO,
		0,
		false
	},

	// these are only present in 1.1
	#ifndef CODVERSION1_5
	{
		&bg_duck2prone_time,
		"bg_duck2prone_time",
		"400",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_prone2duck_time,
		"bg_prone2duck_time",
		"400",
		CVAR_WOLFINFO,
		0,
		false
	},
	#endif
	{
		&bg_ladder_yaw_cap,
		"bg_ladder_yawcap",
		"100",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_prone_yaw_cap,
		"bg_prone_yawcap",
		"85",
		CVAR_WOLFINFO,
		0,
		false
	},
	#ifndef CODVERSION1_5
	{
		&bg_prone_soft_yaw_edge,
		"bg_prone_softyawedge",
		"1",
		CVAR_WOLFINFO,
		0,
		false
	},
	#endif
	{
		&bg_foliagesnd_min_speed,
		"bg_foliagesnd_minspeed",
		"40",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_foliagesnd_max_speed,
		"bg_foliagesnd_maxspeed",
		"180",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_foliagesnd_slow_interval,
		"bg_foliagesnd_slowinterval",
		"1500",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_foliagesnd_fast_interval,
		"bg_foliagesnd_fastinterval",
		"500",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_foliagesnd_reset_interval,
		"bg_foliagesnd_resetinterval",
		"500",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&bg_fall_damage_min_height,
		"bg_fallDamageMinHeight",
		"256",
		CVAR_CHEAT | CVAR_SERVERINFO,
		0,
		false
	},
	{
		&bg_fall_damage_max_height,
		"bg_fallDamageMaxHeight",
		"480",
		CVAR_CHEAT | CVAR_SERVERINFO,
		0,
		false
	},
	{
		&bg_debug_weapon_anim,
		"bg_debugWeaponAnim",
		"0",
		CVAR_CHEAT,
		0,
		false
	},
	{
		&bg_debug_weapon_state,
		"bg_debugWeaponState",
		"0",
		CVAR_CHEAT,
		0,
		false
	},
	#ifdef CODVERSION1_5
	{
		&cg_bob_amplitude_standing,
		"cg_bobAmplitudeStanding",
		"0.007",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&cg_bob_amplitude_ducked,
		"cg_bobAmplitudeDucked",
		"0.0075",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&cg_bob_amplitude_prone,
		"cg_bobAmplitudeProne",
		"0.03",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&cg_bob_max,
		"cg_bobMax",
		"8",
		CVAR_WOLFINFO,
		0,
		false
	},
	#endif
	{
		&g_bounds_width,
		"g_bounds_width",
		"30",
		CVAR_CHEAT,
		0,
		false
	},
	{
		&g_bounds_height_standing,
		"g_bounds_height_standing",
		"70",
		CVAR_CHEAT,
		0,
		false
	},

	//
	// misc
	//
	{
		&g_no_script_spam,
		"g_no_script_spam",
		"0",
		0,
		0,
		false
	},
	{
		&g_debug_show_hit,
		"g_debugShowHit",
		"0",
		CVAR_CHEAT,
		0,
		false
	},
	{
		&g_debug_loc_damage,
		"g_debugLocDamage",
		"0",
		CVAR_CHEAT,
		0,
		false
	},
	{
		&bg_debug_anim,
		"bg_debuganim",
		"0",
		CVAR_CHEAT,
		0,
		false
	},
	{
		&bg_swing_speed,
		"bg_swingSpeed",
		"0.2",
		CVAR_CHEAT,
		0,
		false
	},
	{
		&g_use_gear,
		"g_useGear",
		"1",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_language_warnings,
		"cl_languagewarnings",
		"0",
		0,
		0,
		false
	},
	{
		&g_language_warnings_as_errors,
		"g_languagewarningsaserrors",
		"0",
		0,
		0,
		false
	},
	{
		&g_dump_anims,
		"g_dumpAnims",
		"",
		CVAR_CHEAT,
		0,
		false
	},

	#ifdef CODVERSION1_5
	{
		&g_auto_screenshot,
		"g_autoscreenshot",
		"0",
		CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_auto_demo,
		"g_autodemo",
		"0",
		CVAR_ARCHIVE,
		0,
		false
	},

	//
	// timeouts
	//
	{
		&g_timeouts_allowed,
		"g_timeoutsallowed",
		"0",
		CVAR_LATCH | CVAR_ARCHIVE | CVAR_USERINFO | CVAR_SERVERINFO,
		0,
		false
	},
	{
		&g_timeout_bank,
		"g_timeoutBank",
		"180000",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_timeout_length,
		"g_timeoutlength",
		"90000",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&g_timeout_recovery,
		"g_timeoutRecovery",
		"10000",
		CVAR_LATCH | CVAR_ARCHIVE,
		0,
		false
	},
	{
		&ui_timeouts_allowed,
		"ui_timeoutsAllowed",
		"180000",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&ui_timeout_bank,
		"ui_timeoutBank",
		"180000",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&ui_timeout_length,
		"ui_timeoutLength",
		"90000",
		CVAR_WOLFINFO,
		0,
		false
	},
	{
		&ui_timeout_recovery,
		"ui_timeoutRecovery",
		"10000",
		CVAR_WOLFINFO,
		0,
		false
	},
	#endif
};

static int game_cvar_table_size = 
	sizeof(game_cvar_table) / sizeof(game_cvar_table[0]);